

<!DOCTYPE html>
<html lang="vi">
  <head>
    <title>Component — Vue.js</title>
    <meta charset="utf-8">
    <meta name="description" content="Vue.js - Framework JavaScript linh động">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

    <link rel="alternate" hreflang="x-default" href="https://vuejs.org/v2/guide/components.html">
    <link rel="alternate" hreflang="zh" href="https://cn.vuejs.org/v2/guide/components.html">
    <link rel="alternate" hreflang="ja" href="https://jp.vuejs.org/v2/guide/components.html">
    <link rel="alternate" hreflang="ru" href="https://ru.vuejs.org/v2/guide/components.html">
    <link rel="alternate" hreflang="ko" href="https://kr.vuejs.org/v2/guide/components.html">
    <link rel="alternate" hreflang="pt-BR" href="https://br.vuejs.org/v2/guide/components.html">
    <link rel="alternate" hreflang="fr" href="https://fr.vuejs.org/v2/guide/components.html">

    <meta property="og:type" content="article">
    <meta property="og:title" content="Component — Vue.js">
    <meta property="og:description" content="Vue.js - Framework JavaScript linh động">
    <meta property="og:image" content="https://vi.vuejs.org//images/logo.png">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Component — Vue.js">
    <meta name="twitter:description" content="Vue.js - Framework JavaScript linh động">
    <meta name="twitter:image" content="https://vi.vuejs.org/images/logo.png">

    <link rel="apple-touch-icon" sizes="57x57" href="/images/icons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/images/icons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/images/icons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/images/icons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/images/icons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/images/icons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/images/icons/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/images/icons/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/icons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/images/icons/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/images/icons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/icons/favicon-16x16.png">
    <meta name="msapplication-TileImage" content="/images/icons/ms-icon-144x144.png">
    <link rel="icon" href="/images/logo.png" type="image/png">

    <meta name="msapplication-TileColor" content="#4fc08d">
    <meta name="theme-color" content="#4fc08d">

    <meta name="msapplication-config" content="browserconfig.xml">
    <link rel="manifest" href="/manifest.json">

    <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600|Roboto Mono' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Dosis:500&text=Vue.js' rel='stylesheet' type='text/css'>

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- main page styles -->
    <link rel="stylesheet" href="/css/page.css">

    <!-- this needs to be loaded before guide's inline scripts -->
    <script src="/js/vue.js"></script>
    <script>window.PAGE_TYPE = "guide"</script>

    <!-- ga -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-46852172-1', 'vi.vuejs.org');
      ga('send', 'pageview');
    </script>
  </head>
  <body class="docs">    <div id="mobile-bar" >
      <a class="menu-button"></a>
      <a class="logo" href="/"></a>
    </div>
    <div id="header">
  <a id="logo" href="/">
    <img src="/images/logo.png">
    <span>Vue.js</span>
  </a>
  <ul id="nav">
    <li>
  <form id="search-form">
    <input type="text" id="search-query-nav" class="search-query st-default-search-input">
  </form>
</li>
<li class="nav-dropdown-container learn">
  <a class="nav-link current">Học Vue</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><ul>
      <li><a href="/v2/guide/" class="nav-link current">Hướng dẫn</a></li>
      <li><a href="/v2/api/" class="nav-link">API</a></li>
      <li><a href="/v2/style-guide/" class="nav-link">Style Guide</a></li>
      <li><a href="/v2/examples/" class="nav-link">Một số ví dụ</a></li>
    </ul></li>
  </ul>
</li>

<li class="nav-dropdown-container ecosystem">
  <a class="nav-link">Hệ sinh thái</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><h4>Hỗ trợ</h4></li>
    <li><ul>
      <li><a href="https://forum.vuejs.org/" class="nav-link" target="_blank">Diễn đàn</a></li>
      <li><a href="https://chat.vuejs.org/" class="nav-link" target="_blank">Chat</a></li>
    </ul></li>
    <li><h4>Công cụ</h4></li>
    <li>
      <ul>
        <li><a href="https://github.com/vuejs/vue-devtools" class="nav-link" target="_blank">Devtools</a></li>
        <li><a href="https://vuejs-templates.github.io/webpack" class="nav-link" target="_blank">Webpack Template</a></li>
        <li><a href="https://vue-loader.vuejs.org" class="nav-link" target="_blank">Vue Loader</a></li>
      </ul>
    </li>
    <li><h4>Thư viện chính thức</h4></li>
    <li><ul>
      <li><a href="https://router.vuejs.org/" class="nav-link" target="_blank">Vue Router</a></li>
      <li><a href="https://vuex.vuejs.org/" class="nav-link" target="_blank">Vuex</a></li>
      <li><a href="https://ssr.vuejs.org/" class="nav-link" target="_blank">Vue Server Renderer</a></li>
    </ul></li>
    <li><h4>Tin tức</h4></li>
    <li><ul>
      <li><a href="https://github.com/vuejs/roadmap" class="nav-link" target="_blank">Lộ trình phát triển</a></li>
      <li><a href="https://twitter.com/vuejs" class="nav-link" target="_blank">Twitter</a></li>
      <li><a href="https://medium.com/the-vue-point" class="nav-link" target="_blank">Blog</a></li>
      <li><a href="https://vuejobs.com/?ref=vuejs" class="nav-link" target="_blank">Việc làm</a></li>
    </ul></li>
    <li><h4>Tài nguyên</h4></li>
    <li><ul>
      <li><a href="https://github.com/vuejs" class="nav-link" target="_blank">Nhóm Vue.js trên GitHub</a></li>
      <li><a href="https://curated.vuejs.org/" class="nav-link" target="_blank">Vue Curated</a></li>
      <li><a href="https://github.com/vuejs/awesome-vue" class="nav-link" target="_blank">Awesome Vue</a></li>
    </ul></li>
  </ul>
</li>

<li>
  <a href="/v2/guide/team.html" class="nav-link team">Đội ngũ</a>
</li>
<li class="nav-dropdown-container support-vue">
  <a class="nav-link">Hỗ trợ Vue</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><ul>
      <li><a href="https://vue.threadless.com" target="_blank" class="nav-link">Cửa hàng</a></li>
      <li><a href="https://opencollective.com/vuejs" target="_blank" class="nav-link">Hỗ trợ Vue trên OpenCollective</a></li>
      <li><a href="https://www.patreon.com/evanyou" target="_blank" class="nav-link">Hỗ trợ Evan trên Patreon</a></li>
    </ul></li>
  </ul>
</li>

<li class="nav-dropdown-container language">
  <a class="nav-link">Ngôn ngữ</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="https://vuejs.org/v2/guide/components.html" class="nav-link" target="_blank">English</a></li>
    <li><a href="https://cn.vuejs.org/v2/guide/components.html" class="nav-link" target="_blank">中文</a></li>
    <li><a href="https://jp.vuejs.org/v2/guide/components.html" class="nav-link" target="_blank">日本語</a></li>
    <li><a href="https://ru.vuejs.org/v2/guide/components.html" class="nav-link" target="_blank">Русский</a></li>
    <li><a href="https://kr.vuejs.org/v2/guide/components.html" class="nav-link" target="_blank">한국어</a></li>
    <li><a href="https://br.vuejs.org/v2/guide/components.html" class="nav-link" target="_blank">Português</a></li>
    <li><a href="https://fr.vuejs.org/v2/guide/components.html" class="nav-link" target="_blank">Français</a></li>
  </ul>
</li>


  </ul>
</div>

    
      <div id="main" class="fix-sidebar">
        
          
  <div class="sidebar">
  <div class="sidebar-inner">
    <ul class="main-menu">
      <li>
  <form id="search-form">
    <input type="text" id="search-query-sidebar" class="search-query st-default-search-input">
  </form>
</li>
<li class="nav-dropdown-container learn">
  <a class="nav-link current">Học Vue</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><ul>
      <li><a href="/v2/guide/" class="nav-link current">Hướng dẫn</a></li>
      <li><a href="/v2/api/" class="nav-link">API</a></li>
      <li><a href="/v2/style-guide/" class="nav-link">Style Guide</a></li>
      <li><a href="/v2/examples/" class="nav-link">Một số ví dụ</a></li>
    </ul></li>
  </ul>
</li>

<li class="nav-dropdown-container ecosystem">
  <a class="nav-link">Hệ sinh thái</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><h4>Hỗ trợ</h4></li>
    <li><ul>
      <li><a href="https://forum.vuejs.org/" class="nav-link" target="_blank">Diễn đàn</a></li>
      <li><a href="https://chat.vuejs.org/" class="nav-link" target="_blank">Chat</a></li>
    </ul></li>
    <li><h4>Công cụ</h4></li>
    <li>
      <ul>
        <li><a href="https://github.com/vuejs/vue-devtools" class="nav-link" target="_blank">Devtools</a></li>
        <li><a href="https://vuejs-templates.github.io/webpack" class="nav-link" target="_blank">Webpack Template</a></li>
        <li><a href="https://vue-loader.vuejs.org" class="nav-link" target="_blank">Vue Loader</a></li>
      </ul>
    </li>
    <li><h4>Thư viện chính thức</h4></li>
    <li><ul>
      <li><a href="https://router.vuejs.org/" class="nav-link" target="_blank">Vue Router</a></li>
      <li><a href="https://vuex.vuejs.org/" class="nav-link" target="_blank">Vuex</a></li>
      <li><a href="https://ssr.vuejs.org/" class="nav-link" target="_blank">Vue Server Renderer</a></li>
    </ul></li>
    <li><h4>Tin tức</h4></li>
    <li><ul>
      <li><a href="https://github.com/vuejs/roadmap" class="nav-link" target="_blank">Lộ trình phát triển</a></li>
      <li><a href="https://twitter.com/vuejs" class="nav-link" target="_blank">Twitter</a></li>
      <li><a href="https://medium.com/the-vue-point" class="nav-link" target="_blank">Blog</a></li>
      <li><a href="https://vuejobs.com/?ref=vuejs" class="nav-link" target="_blank">Việc làm</a></li>
    </ul></li>
    <li><h4>Tài nguyên</h4></li>
    <li><ul>
      <li><a href="https://github.com/vuejs" class="nav-link" target="_blank">Nhóm Vue.js trên GitHub</a></li>
      <li><a href="https://curated.vuejs.org/" class="nav-link" target="_blank">Vue Curated</a></li>
      <li><a href="https://github.com/vuejs/awesome-vue" class="nav-link" target="_blank">Awesome Vue</a></li>
    </ul></li>
  </ul>
</li>

<li>
  <a href="/v2/guide/team.html" class="nav-link team">Đội ngũ</a>
</li>
<li class="nav-dropdown-container support-vue">
  <a class="nav-link">Hỗ trợ Vue</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><ul>
      <li><a href="https://vue.threadless.com" target="_blank" class="nav-link">Cửa hàng</a></li>
      <li><a href="https://opencollective.com/vuejs" target="_blank" class="nav-link">Hỗ trợ Vue trên OpenCollective</a></li>
      <li><a href="https://www.patreon.com/evanyou" target="_blank" class="nav-link">Hỗ trợ Evan trên Patreon</a></li>
    </ul></li>
  </ul>
</li>

<li class="nav-dropdown-container language">
  <a class="nav-link">Ngôn ngữ</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="https://vuejs.org/v2/guide/components.html" class="nav-link" target="_blank">English</a></li>
    <li><a href="https://cn.vuejs.org/v2/guide/components.html" class="nav-link" target="_blank">中文</a></li>
    <li><a href="https://jp.vuejs.org/v2/guide/components.html" class="nav-link" target="_blank">日本語</a></li>
    <li><a href="https://ru.vuejs.org/v2/guide/components.html" class="nav-link" target="_blank">Русский</a></li>
    <li><a href="https://kr.vuejs.org/v2/guide/components.html" class="nav-link" target="_blank">한국어</a></li>
    <li><a href="https://br.vuejs.org/v2/guide/components.html" class="nav-link" target="_blank">Português</a></li>
    <li><a href="https://fr.vuejs.org/v2/guide/components.html" class="nav-link" target="_blank">Français</a></li>
  </ul>
</li>


    </ul>
    <div class="list">
      <div class="main-sponsor">
        <span>Nhà tài trợ bạch kim</span><br>
        <a href="https://stdlib.com" target="_blank" class="logo">
          <img src="/images/stdlib.png">
        </a>
        <a href="http://tooltwist.com/" target="_blank" class="logo">
          <img src="/images/tooltwist.png">
        </a>
      </div>
      <a class="become-backer" href="/support-vuejs">
        Trở thành nhà tài trợ
      </a>
      <h2>
        
          Hướng dẫn
        
        <!--
        
          <select class="version-select">
            <option value="SELF" selected>2.x</option>
            <option value="v1">1.0</option>
            <option value="012">0.12</option>
            <option value="011">0.11</option>
          </select>
        
        -->
      </h2>
      <ul class="menu-root">
  
    
    
      
        <li><h3>Khái niệm cơ bản</h3></li>
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/installation.html" class="sidebar-link">Cài đặt</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/index.html" class="sidebar-link">Giới thiệu</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/instance.html" class="sidebar-link">Đối tượng Vue</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/syntax.html" class="sidebar-link">Cú pháp template</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/computed.html" class="sidebar-link">Computed property và watcher</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/class-and-style.html" class="sidebar-link">Binding cho class và style</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/conditional.html" class="sidebar-link">Render theo điều kiện</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/list.html" class="sidebar-link">Render danh sách</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/events.html" class="sidebar-link">Xử lí sự kiện</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/forms.html" class="sidebar-link">Form Input Bindings</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/components.html" class="sidebar-link current">Component</a>
    </li>
  
    
    
      
      
        <li><h3>Hiệu ứng chuyển động</h3></li>
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/transitions.html" class="sidebar-link">Transition cho enter/leave & danh sách</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/transitioning-state.html" class="sidebar-link">Transition cho trạng thái</a>
    </li>
  
    
    
      
      
      
        <li><h3>Tái sử dụng & kết hợp</h3></li>
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/mixins.html" class="sidebar-link">Mixin</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/custom-directive.html" class="sidebar-link">Directive tùy biến</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/render-function.html" class="sidebar-link">Các hàm render & JSX</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/plugins.html" class="sidebar-link">Plugins</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/filters.html" class="sidebar-link">Filters</a>
    </li>
  
    
    
      
      
      
      
        <li><h3>Công cụ</h3></li>
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/deployment.html" class="sidebar-link">Triển khai cho môi trường production</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/single-file-components.html" class="sidebar-link">Single File Components</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/unit-testing.html" class="sidebar-link">Unit Testing</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/typescript.html" class="sidebar-link">TypeScript Support</a>
    </li>
  
    
    
      
      
      
      
      
        <li><h3>Mở rộng quy mô ứng dụng</h3></li>
      
      
      
    
    
    <li>
      <a href="/v2/guide/routing.html" class="sidebar-link">Routing</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/state-management.html" class="sidebar-link">State Management</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/ssr.html" class="sidebar-link">Server-Side Rendering</a>
    </li>
  
    
    
      
      
      
      
      
      
        <li><h3>Bên trong Vue</h3></li>
      
      
    
    
    <li>
      <a href="/v2/guide/reactivity.html" class="sidebar-link">Reactivity in Depth</a>
    </li>
  
    
    
      
      
      
      
      
      
      
        <li><h3>Thông tin thêm</h3></li>
      
    
    
    <li>
      <a href="/v2/guide/comparison.html" class="sidebar-link">Comparison with Other Frameworks</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/join.html" class="sidebar-link">Join the Vue.js Community!</a>
    </li>
  
    
    
      
      
      
      
      
      
      
    
    
    <li>
      <a href="/v2/guide/team.html" class="sidebar-link">Đội ngũ</a>
    </li>
  
  
</ul>

    </div>
  </div>
</div>


<div class="content guide with-sidebar components-guide">
  
    
      <div id="ad">
  <script>
    (function () {
      var s = document.createElement('script')
      s.setAttribute('async', '')
      s.src = '//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=vuejs'
      s.id = '_carbonads_js'
      document.getElementById('ad').appendChild(s)
    })()
  </script>
</div>

    
  
  
    <h1>Component</h1>
  
  <h2 id="Component-la-gi"><a href="#Component-la-gi" class="headerlink" title="Component là gì?"></a>Component là gì?</h2><p>Component là một trong những tính năng mạnh nhất của Vue. Với component, chúng ta có thể mở rộng những phần tử HTML cơ bản để đóng gói (encapsulate) code có thể tái sử dụng. Nói một cách tổng quát, component là những phần tử web tùy biến (custom element) đã được trình biên dịch của Vue đính kèm các hành vi (behavior) vào. Trong một số trường hợp, component cũng có thể xuất hiện dưới dạng một phần tử HTML bình thường với một thuộc tính <code>is</code> đặc biệt.</p>
<h2 id="Su-dung-component"><a href="#Su-dung-component" class="headerlink" title="Sử dụng component"></a>Sử dụng component</h2><h3 id="Dang-ki-o-cap-toan-cuc"><a href="#Dang-ki-o-cap-toan-cuc" class="headerlink" title="Đăng kí ở cấp toàn cục"></a>Đăng kí ở cấp toàn cục</h3><p>Ở các phần trước, chúng ta đã biết rằng một đối tượng Vue có thể được khởi tạo bằng cách sau:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">new</span> Vue(&#123;</div><div class="line">  el: <span class="string">'#some-element'</span>,</div><div class="line">  <span class="comment">// các tùy chọn</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>Để đăng kí một component ở cấp toàn cục, bạn có thể dùng cú pháp <code>Vue.component(tagName, options)</code>. Ví dụ:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.component(<span class="string">'my-component'</span>, &#123;</div><div class="line">  <span class="comment">// các tùy chọn</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p class="tip">Vue không bắt buộc phải theo <a href="https://www.w3.org/TR/custom-elements/#concepts" target="_blank" rel="external">các quy ước W3C</a> về tên thẻ tùy biến (viết thường toàn bộ, phải sử dụng dấu gạch ngang) tuy rằng bạn cũng nên tuân thủ các quy tắc này.</p>

<p>Một khi đã đăng kí, component có thể được sử dụng dưới dạng một phần tử tùy biến trong template của một đối tượng Vue: <code>&lt;my-component&gt;&lt;/my-component&gt;</code>. Bạn nhớ đăng kí component <strong>trước khi</strong> khởi tạo đối tượng Vue gốc. Sau đây là ví dụ hoàn chỉnh:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"example"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">my-component</span>&gt;</span><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// đăng kí</span></div><div class="line">Vue.component(<span class="string">'my-component'</span>, &#123;</div><div class="line">  template: <span class="string">'&lt;div&gt;Đây là một component!&lt;/div&gt;'</span></div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="comment">// tạo đối tượng Vue gốc</span></div><div class="line"><span class="keyword">new</span> Vue(&#123;</div><div class="line">  el: <span class="string">'#example'</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>Kết quả render ra sẽ là:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"example"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>Đây là một component!<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>

<div id="example" class="demo">
  <my-component></my-component>
</div>
<script>
Vue.component('my-component', {
  template: '<div>Đây là một component!</div>'
})
new Vue({ el: '#example' })
</script>

<h3 id="Dang-ki-o-cap-cuc-bo"><a href="#Dang-ki-o-cap-cuc-bo" class="headerlink" title="Đăng kí ở cấp cục bộ"></a>Đăng kí ở cấp cục bộ</h3><p>Bạn không nhất thiết phải đăng kí toàn bộ các compoent ở cấp toàn cục. Thay vào đó, bạn có thể đăng kí một component bằng cách dùng tùy chọn <code>components</code> khi khởi tạo một đối tượng Vue. Với cách làm này, chỉ đối tượng Vue này mới có thể truy xuất đến component vừa đăng kí.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> Child = &#123;</div><div class="line">  template: <span class="string">'&lt;div&gt;Đây là một component!&lt;/div&gt;'</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">new</span> Vue(&#123;</div><div class="line">  <span class="comment">// ...</span></div><div class="line">  components: &#123;</div><div class="line">    <span class="comment">// &lt;my-component&gt; chỉ hợp lệ trong template của đối tượng cha</span></div><div class="line">    <span class="string">'my-component'</span>: Child</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>Cách đóng gói (encapsulation) như trên cũng áp dụng với các tính năng có thể đăng kí của Vue, ví dụ như directive.</p>
<h3 id="Luu-y-ve-viec-parse-DOM-template"><a href="#Luu-y-ve-viec-parse-DOM-template" class="headerlink" title="Lưu ý về việc parse DOM template"></a>Lưu ý về việc parse DOM template</h3><p>Khi sử dụng DOM làm template (ví dụ dùng tùy chọn <code>el</code> để gắn một phần tử web đã có sẵn nội dung), bạn sẽ phải gặp phải một số hạn chế vốn có của HTML, vì Vue chỉ có thể nhận vào nội dung của template <strong>sau khi</strong> trình duyệt đã parse (phân tích) và normalize (bình thường hóa) template này. Đáng lưu ý nhất, bên trong các phần tử như <code>&lt;ul&gt;</code>, <code>&lt;ol&gt;</code>, <code>&lt;table&gt;</code> và <code>&lt;select&gt;</code> chúng ta chỉ có thể chứa một số phần tử nhất định (chẳng hạn <code>&lt;ul&gt;</code> chỉ chấp nhận <code>&lt;li&gt;</code>), trong khi đó các phần tử như <code>&lt;option&gt;</code> lại chỉ có thể được đặt trong một số phần tử nhất định khác như <code>&lt;select&gt;</code>, <code>&lt;optgroup&gt;</code>, hay <code>&lt;datalist&gt;</code>.</p>
<p>  Điều này sẽ dẫn đến một số vấn đề khi dùng component với các phần tử có những hạn chế vừa nêu, ví dụ:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">my-row</span>&gt;</span>...<span class="tag">&lt;/<span class="name">my-row</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Ở đây component <code>&lt;my-row&gt;</code> sẽ bị xem là một phần tử không hợp lệ bên trong <code>&lt;table&gt;</code> và bị đẩy ra ngoài (hoisted out), dẫn đến lỗi khi render. Để giải quyết vấn đề này, ta có thể dùng thuộc tính đặc biệt <code>is</code>:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">tr</span> <span class="attr">is</span>=<span class="string">"my-row"</span>&gt;</span><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></div></pre></td></tr></table></figure>
<p><strong>Cũng cần lưu ý rằng những hạn chế nêu trên không tồn tại nếu bạn sử dụng string template từ một trong các nguồn sau</strong>:</p>
<ul>
<li><code>&lt;script type=&quot;text/x-template&quot;&gt;</code></li>
<li>Template string bên trong JavaScript</li>
<li>Component dạng <code>.vue</code></li>
</ul>
<p>Vì thế, hãy dùng string template bất cứ khi nào có thể.</p>
<h3 id="data-phai-la-mot-ham"><a href="#data-phai-la-mot-ham" class="headerlink" title="data phải là một hàm"></a><code>data</code> phải là một hàm</h3><p>Đa số các tùy chọn có thể truyền vào hàm dựng của Vue đều có thể dùng trong component, với một trường hợp đặc biệt: <code>data</code> phải là một hàm. Nếu bạn thử chạy ví dụ sau:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.component(<span class="string">'my-component'</span>, &#123;</div><div class="line">  template: <span class="string">'&lt;span&gt;&#123;&#123; message &#125;&#125;&lt;/span&gt;'</span>,</div><div class="line">  data: &#123;</div><div class="line">    message: <span class="string">'Xin chào'</span></div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>thì Vue sẽ ngừng thực thi và hiển thị cảnh báo trong console, thông báo rằng <code>data</code> trong các đối tượng component thì <code>data</code> phải là một hàm. Dĩ nhiên nếu chúng ta hiểu lí do tại sao thì tốt hơn, nên hãy thử chơi gian một chút:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"example-2"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">simple-counter</span>&gt;</span><span class="tag">&lt;/<span class="name">simple-counter</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">simple-counter</span>&gt;</span><span class="tag">&lt;/<span class="name">simple-counter</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">simple-counter</span>&gt;</span><span class="tag">&lt;/<span class="name">simple-counter</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> data = &#123; <span class="attr">counter</span>: <span class="number">0</span> &#125;</div><div class="line"></div><div class="line">Vue.component(<span class="string">'simple-counter'</span>, &#123;</div><div class="line">  template: <span class="string">'&lt;button v-on:click="counter += 1"&gt;&#123;&#123; counter &#125;&#125;&lt;/button&gt;'</span>,</div><div class="line">  <span class="comment">// ở đây `data` về nguyên tắc vẫn là một hàm,</span></div><div class="line">  <span class="comment">// nên Vue sẽ không phàn nàn gì, nhưng ta sẽ</span></div><div class="line">  <span class="comment">// trả lại cùng một tham chiếu đến object `data`</span></div><div class="line">  <span class="comment">// cho mỗi đối tượng component</span></div><div class="line">  data: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> data</div><div class="line">  &#125;</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="keyword">new</span> Vue(&#123;</div><div class="line">  el: <span class="string">'#example-2'</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>

<div id="example-2" class="demo">
  <simple-counter></simple-counter>
  <simple-counter></simple-counter>
  <simple-counter></simple-counter>
</div>
<script>
var data = { counter: 0 }
Vue.component('simple-counter', {
  template: '<button v-on:click="counter += 1">{{ counter }}</button>',
  data: function () {
    return data
  }
})
new Vue({
  el: '#example-2'
})
</script>

<p>Vì cả ba đối tượng component dùng chung một object <code>data</code> object, tăng giá trị của một bộ đếm số sẽ tăng cả ba! Chúng ta sẽ sửa lại bằng cách trả về một object data mới cho mỗi component:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">data: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> &#123;</div><div class="line">    counter: <span class="number">0</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Bây giờ thì mỗi bộ đếm của chúng ta sẽ có một state (trạng thái) riêng:</p>

<div id="example-2-5" class="demo">
  <my-component></my-component>
  <my-component></my-component>
  <my-component></my-component>
</div>
<script>
Vue.component('my-component', {
  template: '<button v-on:click="counter += 1">{{ counter }}</button>',
  data: function () {
    return {
      counter: 0
    }
  }
})
new Vue({
  el: '#example-2-5'
})
</script>

<h3 id="Bien-soan-component"><a href="#Bien-soan-component" class="headerlink" title="Biên soạn component"></a>Biên soạn component</h3><p>Component được tạo ra là để dùng chung với nhau, thường thấy nhất là trong những mối quan hệ cha-con: component A có thể dùng component B trong template của mình. Chắc chắn hai component này sẽ phải giao tiếp với nhau: đối tượng cha có thể sẽ cần truyền dữ liệu cho đối tượng con, và đối tượng con cũng cần thông báo cho đối tượng cha biết khi có điều gì đó xảy ra. Tuy nhiên, một điều cũng hết sức quan trọng là hai đối tượng cha-con này cũng cần được tách biệt đến mức có thể, thông qua một interface (giao diện) được định nghĩa rõ ràng via a clearly-defined interface. Điều này bảo đảm code của mỗi component được viết và quản lí một cách biệt lập, nhờ đó giúp việc bảo trì và tái sử dụng được dễ dàng hơn.</p>
<p>Trong Vue, mối quan hệ component cha-con có thể được tóm tắt thành <strong>props down, events up</strong> (thuộc tính xuống, sự kiện lên). Component cha truyền data xuống component con bằng <strong>props</strong>, và component con gửi thông điệp cho component cha bằng <strong>sự kiện</strong>. Tiếp theo đây chúng ta sẽ xem chúng hoạt động như thế nào.</p>
<p style="text-align: center;"><br>  <img style="width: 300px;" src="/images/props-events.png" alt="props down, events up"><br></p>

<h2 id="Prop"><a href="#Prop" class="headerlink" title="Prop"></a>Prop</h2><h3 id="Truyen-du-lieu-voi-prop"><a href="#Truyen-du-lieu-voi-prop" class="headerlink" title="Truyền dữ liệu với prop"></a>Truyền dữ liệu với prop</h3><p>Mỗi đối tượng component có một scope được cô lập (isolated) riêng. Điều này có nghĩa là bạn không thể (và cũng không nên) truy xuất đến dữ liệu cha trong template của component con. Thay vào đó, dữ liệu có thể được truyền từ cha xuống con bằng cách sử dụng các <strong>prop</strong>.</p>
<p>Một <code>prop</code>là một thuộc tính tùy biến để truyền thông tin từ các component cha. Một component con cần phải khai báo một cách minh bạch (explicitly) các <code>prop</code> mà nó trông đợi được nhận bằng <a href="../api/#props">tùy chọn <code>props</code></a>:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.component(<span class="string">'child'</span>, &#123;</div><div class="line">  <span class="comment">// khai báo props</span></div><div class="line">  props: [<span class="string">'message'</span>],</div><div class="line">  <span class="comment">// giống như `data`, prop này có thể được dùng bên trong template</span></div><div class="line">  <span class="comment">// và cũng có thể được truy xuất bên trong vm bằng this.message</span></div><div class="line">  template: <span class="string">'&lt;span&gt;&#123;&#123; message &#125;&#125;&lt;/span&gt;'</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>Sau đó chúng ta có thể truyền cho nó một chuỗi con như sau:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">child</span> <span class="attr">message</span>=<span class="string">"Xin chào!"</span>&gt;</span><span class="tag">&lt;/<span class="name">child</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Result:</p>

<div id="prop-example-1" class="demo">
  <child message="Xin chào!"></child>
</div>
<script>
new Vue({
  el: '#prop-example-1',
  components: {
    child: {
      props: ['message'],
      template: '<span>{{ message }}</span>'
    }
  }
})
</script>

<h3 id="camelCase-vs-kebab-case"><a href="#camelCase-vs-kebab-case" class="headerlink" title="camelCase vs. kebab-case"></a>camelCase vs. kebab-case</h3><p>Các thuộc tính HTML không phân biệt hoa thường, vì vậy khi sử dụng template không phải là string template, tên của prop (được viết theo camelCase JavaScript) nên được chuyển thành dạng kebab-case trong HTML. Để dễ hiểu hơn, bạn có thể xem ví dụ sau đây:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.component(<span class="string">'child'</span>, &#123;</div><div class="line">  <span class="comment">// camelCase trong JavaScript</span></div><div class="line">  props: [<span class="string">'myMessage'</span>],</div><div class="line">  template: <span class="string">'&lt;span&gt;&#123;&#123; myMessage &#125;&#125;&lt;/span&gt;'</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="comment">&lt;!-- kebab-case trong HTML --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">child</span> <span class="attr">my-message</span>=<span class="string">"Xin chào!"</span>&gt;</span><span class="tag">&lt;/<span class="name">child</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Một lần nữa, nếu bạn đang dùng string template thì sẽ không tồn tại hạn chế này.</p>
<h3 id="Prop-dong"><a href="#Prop-dong" class="headerlink" title="Prop động"></a>Prop động</h3><p>Tương tự như việc bind một thuộc tính thông thường vào một expression, chúng ta cũng có thể dùng <code>v-bind</code> để bind động props vào dữ liệu trên component cha. Bất cứ khi nào được cập nhật trong component cha, dữ liệu cũng sẽ được truyền xuống component con:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">"parentMsg"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">br</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">child</span> <span class="attr">v-bind:my-message</span>=<span class="string">"parentMsg"</span>&gt;</span><span class="tag">&lt;/<span class="name">child</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Bạn cũng có thể dùng cú pháp viết tắt của <code>v-bind</code>:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">child</span> <span class="attr">:my-message</span>=<span class="string">"parentMsg"</span>&gt;</span><span class="tag">&lt;/<span class="name">child</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Kết quả:</p>

<div id="demo-2" class="demo">
  <input v-model="parentMsg">
  <br>
  <child v-bind:my-message="parentMsg"></child>
</div>
<script>
new Vue({
  el: '#demo-2',
  data: {
    parentMsg: 'Con ơi nhớ lấy câu này'
  },
  components: {
    child: {
      props: ['myMessage'],
      template: '<span>{{myMessage}}</span>'
    }
  }
})
</script>

<p>Nếu muốn truyền toàn bộ thuộc tính của một object thành props, bạn có thể dùng <code>v-bind</code> không có tham số (<code>v-bind</code> thay vì <code>v-bind:prop-name</code>). Ví dụ, nếu chúng ta có một object <code>todo</code>:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">todo: &#123;</div><div class="line">  text: <span class="string">'Học Vue'</span>,</div><div class="line">  isComplete: <span class="literal">false</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>thì</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">todo-item</span> <span class="attr">v-bind</span>=<span class="string">"todo"</span>&gt;</span><span class="tag">&lt;/<span class="name">todo-item</span>&gt;</span></div></pre></td></tr></table></figure>
<p>là tương đương với</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">todo-item</span></span></div><div class="line"><span class="tag">  <span class="attr">v-bind:text</span>=<span class="string">"todo.text"</span></span></div><div class="line"><span class="tag">  <span class="attr">v-bind:is-complete</span>=<span class="string">"todo.isComplete"</span></span></div><div class="line"><span class="tag">&gt;</span><span class="tag">&lt;/<span class="name">todo-item</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="Prop-dong-va-prop-literal"><a href="#Prop-dong-va-prop-literal" class="headerlink" title="Prop động và prop literal"></a>Prop động và prop literal</h3><p>Một lỗi mà người mới học thường vấp phải là thử truyền xuống một con số sử dụng cú pháp literal (trực tiếp):</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="comment">&lt;!-- cách này sẽ truyền xuống chuỗi "1" --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">comp</span> <span class="attr">some-prop</span>=<span class="string">"1"</span>&gt;</span><span class="tag">&lt;/<span class="name">comp</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Tuy nhiên, vì đây là một prop literal, giá trị của nó được truyền xuống dưới dạng chuỗi <code>&quot;1&quot;</code> thay vì một con số thật sự. Muốn truyền xuống một giá trị kiểu number trong JavaScript, chúng ta cần dùng <code>v-bind</code> để cho giá trị của nó được xem như một biểu thức JavaScript:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="comment">&lt;!-- cách này sẽ truyền xuống một con số thật sự --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">comp</span> <span class="attr">v-bind:some-prop</span>=<span class="string">"1"</span>&gt;</span><span class="tag">&lt;/<span class="name">comp</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="Luong-du-lieu-mot-chieu"><a href="#Luong-du-lieu-mot-chieu" class="headerlink" title="Luồng dữ liệu một chiều"></a>Luồng dữ liệu một chiều</h3><p>Tất cả các prop tạo ra một ràng buộc (binding) <strong>đi xuống một chiều</strong> giữa thuộc tính của cha và thuộc tính của con. Khi thuộc tính của cha được cập nhật, sự thay đổi này sẽ được truyền xuống dưới, nhưng không xảy ra điều ngược lại. Điều này ngăn không cho component con vô tình thay đổi trạng thái của cha (và làm luồng dữ liệu trở nên rối loạn).</p>
<p>Thêm vào đó, mỗi khi component cha được cập nhật, toàn bộ prop trong component con sẽ được refresh với giá trị mới nhất. Điều này có nghĩa là bạn <strong>không nên</strong> thay đổi prop bên trong component con. Nếu bạn vẫn cố làm, Vue sẽ hiện cảnh báo trong console.</p>
<p>Thông thường thì có hai trường hợp bạn muốn thay đổi một prop:</p>
<ol>
<li>Prop này được dùng để truyền một giá trị ban đầu, sau đó component con muốn dùng giá trị này như một thuộc tính dữ liệu cục bộ.</li>
<li>Prop được truyền xuống dưới dạng giá trị thô (raw value) và cần được chuyển đổi</li>
</ol>
<p>Cách làm đúng cho hai trường hợp trên là:</p>
<ol>
<li><p>Định nghĩa một thuộc tính dữ liệu cục bộ và dùng giá trị ban đầu của prop làm giá trị ban đầu của thuộc tính này:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">props: [<span class="string">'initialCounter'</span>],</div><div class="line">data: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> &#123; <span class="attr">counter</span>: <span class="keyword">this</span>.initialCounter &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Đĩnh nghĩa một <a href="computed.html">computed property</a> dựa trên giá trị của prop:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">props: [<span class="string">'size'</span>],</div><div class="line">computed: &#123;</div><div class="line">  normalizedSize: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.size.trim().toLowerCase()</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ol>
<p class="tip">Lưu ý là object và array trong JavaScript được truyền bằng tham chiếu, vì vậy nếu prop là một array hay object, thay đổi array hay object này bên trong component con cũng sẽ ảnh hưởng đến component cha.</p>

<h3 id="Kiem-chung-prop"><a href="#Kiem-chung-prop" class="headerlink" title="Kiểm chứng prop"></a>Kiểm chứng prop</h3><p>Component có thể chỉ định một số yêu cầu (requirement) cho prop. Nếu có yêu cầu nào không được thỏa mãn, Vue sẽ cảnh báo. Điều này trở nên đặc biệt hữu ích khi component bạn đang viết là để cho người khác dùng.</p>
<p>Thay vì định nghĩa các prop dưới dạng một mảng chứa tên prop, bạn có thể dùng một object chứa các yêu cầu kiểm chứng (validation requirement).</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.component(<span class="string">'example'</span>, &#123;</div><div class="line">  props: &#123;</div><div class="line">    <span class="comment">// kiểm tra kiểu dữ liệu cơ bản (`null` chấp nhận tất cả các kiểu)</span></div><div class="line">    propA: <span class="built_in">Number</span>,</div><div class="line">    <span class="comment">// chấp nhận một số kiểu dữ liệu cùng lúc</span></div><div class="line">    propB: [<span class="built_in">String</span>, <span class="built_in">Number</span>],</div><div class="line">    <span class="comment">// một chuỗi bắt buộc</span></div><div class="line">    propC: &#123;</div><div class="line">      type: <span class="built_in">String</span>,</div><div class="line">      required: <span class="literal">true</span></div><div class="line">    &#125;,</div><div class="line">    <span class="comment">// một con số với giá trị mặc định</span></div><div class="line">    propD: &#123;</div><div class="line">      type: <span class="built_in">Number</span>,</div><div class="line">      <span class="keyword">default</span>: <span class="number">100</span></div><div class="line">    &#125;,</div><div class="line">    <span class="comment">// giá trị mặc định cho object/array nên được trả về</span></div><div class="line">    <span class="comment">// từ một hàm factory</span></div><div class="line">    propE: &#123;</div><div class="line">      type: <span class="built_in">Object</span>,</div><div class="line">      <span class="keyword">default</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> &#123; <span class="attr">message</span>: <span class="string">'Xin chào'</span> &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;,</div><div class="line">    <span class="comment">// hàm kiểm tra tùy biến</span></div><div class="line">    propF: &#123;</div><div class="line">      validator: <span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> value &gt; <span class="number">10</span></div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>Thuộc tính <code>type</code> có thể là một trong các hàm dựng native sau:</p>
<ul>
<li>String</li>
<li>Number</li>
<li>Boolean</li>
<li>Function</li>
<li>Object</li>
<li>Array</li>
<li>Symbol</li>
</ul>
<p>Ngoài ra, <code>type</code> cũng có thể là một hàm dựng tùy biến (custom constructor), và Vue sẽ so sánh bằng lệnh <code>instanceof</code>.</p>
<p>Khi prop không thỏa mãn một hay nhiều điều kiện đã đặt ra, Vue sẽ cảnh báo trong console (nếu bạn đang dùng <a href="installation.html#Che-do-development-va-production">bản development</a>). Lưu ý rằng prop được kiểm chứng <strong>trước khi</strong> đối tượng component được khởi tạo, vì vậy bên trong các hàm <code>default</code> hoặc <code>validator</code>, các thuộc tính đối tượng như <code>data</code>, <code>computed</code>, hay <code>methods</code> sẽ không khả dụng.</p>
<h2 id="Cac-thuoc-tinh-non-prop"><a href="#Cac-thuoc-tinh-non-prop" class="headerlink" title="Các thuộc tính non-prop"></a>Các thuộc tính non-prop</h2><p>Thuộc tính non-prop là một thuộc tính được truyền vào component mà không có prop tương ứng được định nghĩa sẵn.</p>
<p>Tuy props nên được định nghĩa một cách minh bạch bất cứ khi nào có thể, tác giả của các thư viện component không phải lúc nào cũng có thể thấy trước được ngữ cảnh mà component của mình được sử dụng. Đó là lí do component có thể nhận những giá trị “linh động” hơn, các giá trị này được thêm vào root của component.</p>
<p>Ví dụ, thử tưởng tượng chúng ta sử dụng component bên thứ ba gọi là <code>bs-date-input</code> với một plugin Bootstrap. Plugin này yêu cầu một thuộc tính tên là <code>data-3d-date-picker</code> trên <code>input</code>. Chúng ta có thể thêm thuộc tính này vào đối tượng component của chúng ta như sau:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">bs-date-input</span> <span class="attr">data-3d-date-picker</span>=<span class="string">"true"</span>&gt;</span><span class="tag">&lt;/<span class="name">bs-date-input</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Ở đây thuộc tính <code>data-3d-date-picker=&quot;true&quot;</code> sẽ được tự động gắn vào phần tử root của <code>bs-date-input</code>.</p>
<h3 id="Thay-the-sap-nhap-voi-cac-thuoc-tinh-san-co"><a href="#Thay-the-sap-nhap-voi-cac-thuoc-tinh-san-co" class="headerlink" title="Thay thế / sáp nhập với các thuộc tính sẵn có"></a>Thay thế / sáp nhập với các thuộc tính sẵn có</h3><p>Ví dụ đây là template của <code>bs-date-input</code>:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"date"</span> <span class="attr">class</span>=<span class="string">"form-control"</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Để chỉ định một theme cho plugin date picker, có thể chúng ta sẽ phải thêm vào một <code>class</code> như sau:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">bs-date-input</span></span></div><div class="line"><span class="tag">  <span class="attr">data-3d-date-picker</span>=<span class="string">"true"</span></span></div><div class="line"><span class="tag">  <span class="attr">class</span>=<span class="string">"date-picker-theme-dark"</span></span></div><div class="line"><span class="tag">&gt;</span><span class="tag">&lt;/<span class="name">bs-date-input</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Như vậy ở đây có đến hai giá trị cho thuộc tính <code>class</code>:</p>
<ul>
<li><code>form-control</code>, gán trong template của component</li>
<li><code>date-picker-theme-dark</code>, truyền vào component con từ đối tượng cha</li>
</ul>
<p>Đối với đa số các thuộc tính, giá trị truyền vào sẽ thay thế cho giá trị được gắn sẵn trong component, có nghĩa là truyền vào <code>type=&quot;large&quot;</code> sẽ thay thế <code>type=&quot;date&quot;</code> (và có thể là làm hỏng luôn chương trình!) May thay, các thuộc tính <code>class</code> và <code>style</code> thông minh hơn một chút vã sẽ sáp nhập (merge) các giá trị lại với nhau, tạo thành kết quả cuối cùng: <code>class=&quot;form-control date-picker-theme-dark&quot;</code>.</p>
<h2 id="Cac-su-kien-tuy-bien"><a href="#Cac-su-kien-tuy-bien" class="headerlink" title="Các sự kiện tùy biến"></a>Các sự kiện tùy biến</h2><p>Chúng ta đã biết rằng đối tượng cha có thể truyền dữ liệu xuống đối tượng con thông qua prop, nhưng nếu có gì đó xảy ra thì chúng ta làm thế nào để giao tiếp ngược lại từ đối tượng con lên đối tượng cha? Câu trả lời là hệ thống các sự kiện tùy biến (custom event) của Vue.</p>
<h3 id="Su-dung-v-on-voi-cac-su-kien-tuy-bien"><a href="#Su-dung-v-on-voi-cac-su-kien-tuy-bien" class="headerlink" title="Sử dụng v-on với các sự kiện tùy biến"></a>Sử dụng <code>v-on</code> với các sự kiện tùy biến</h3><p>Mỗi đối tượng Vue đều phát triển một <a href="../api/#Instance-Methods-Events">giao diện sự kiện</a>, có nghĩa là nó có thể:</p>
<ul>
<li>Lắng nghe một sự kiện với <code>$on(eventName)</code></li>
<li>Kích hoạt một sự kiện với <code>$emit(eventName)</code></li>
</ul>
<p class="tip">Lưu ý rằng hệ thống sự kiện của Vue khác với <a href="https://developer.mozilla.org/en-US/docs/Web/API/EventTarget" target="_blank" rel="external">EventTarget API</a> của trình duyệt. Tuy cách hoạt động có vẻ giống nhau, <code>$on</code> và <code>$emit</code> <strong>không phải</strong> là alias của <code>addEventListener</code> và <code>dispatchEvent</code>.</p>

<p>Thêm vào đó, một component cha có thể lắng nghe các sự kiện được component con phát ra bằng cách sử dụng <code>v-on</code> trực tiếp trên template nơi component con được nhúng vào.</p>
<p class="tip">Bạn không thể dùng <code>$on</code> để lắng nghe sự kiện được component con phát ra. Thay vào đó, bạn phải dùng <code>v-on</code> trực tiếp trong template, như trong ví dụ dưới đây.</p>

<p>Đây là một ví dụ:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"counter-event-example"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; total &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">button-counter</span> <span class="attr">v-on:increment</span>=<span class="string">"incrementTotal"</span>&gt;</span><span class="tag">&lt;/<span class="name">button-counter</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">button-counter</span> <span class="attr">v-on:increment</span>=<span class="string">"incrementTotal"</span>&gt;</span><span class="tag">&lt;/<span class="name">button-counter</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.component(<span class="string">'button-counter'</span>, &#123;</div><div class="line">  template: <span class="string">'&lt;button v-on:click="incrementCounter"&gt;&#123;&#123; counter &#125;&#125;&lt;/button&gt;'</span>,</div><div class="line">  data: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">      counter: <span class="number">0</span></div><div class="line">    &#125;</div><div class="line">  &#125;,</div><div class="line">  methods: &#123;</div><div class="line">    incrementCounter: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">this</span>.counter += <span class="number">1</span></div><div class="line">      <span class="keyword">this</span>.$emit(<span class="string">'increment'</span>)</div><div class="line">    &#125;</div><div class="line">  &#125;,</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="keyword">new</span> Vue(&#123;</div><div class="line">  el: <span class="string">'#counter-event-example'</span>,</div><div class="line">  data: &#123;</div><div class="line">    total: <span class="number">0</span></div><div class="line">  &#125;,</div><div class="line">  methods: &#123;</div><div class="line">    incrementTotal: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">this</span>.total += <span class="number">1</span></div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>

<div id="counter-event-example" class="demo">
  <p>{{ total }}</p>
  <button-counter v-on:increment="incrementTotal"></button-counter>
  <button-counter v-on:increment="incrementTotal"></button-counter>
</div>
<script>
Vue.component('button-counter', {
  template: '<button v-on:click="incrementCounter">{{ counter }}</button>',
  data: function () {
    return {
      counter: 0
    }
  },
  methods: {
    incrementCounter: function () {
      this.counter += 1
      this.$emit('increment')
    }
  }
})
new Vue({
  el: '#counter-event-example',
  data: {
    total: 0
  },
  methods: {
    incrementTotal: function () {
      this.total += 1
    }
  }
})
</script>

<p>Trong ví dụ này, cần lưu ý rằng đối tượng con hoàn toàn không bị ràng buộc gì với thế giới bên ngoài. Nó chỉ làm đúng một việc là thông báo thông tin về hoạt động của chính mình – lắng nghe và xử lí thế nào hoàn toàn là việc của component cha.</p>
<h3 id="Bind-su-kien-native-vao-component"><a href="#Bind-su-kien-native-vao-component" class="headerlink" title="Bind sự kiện native vào component"></a>Bind sự kiện native vào component</h3><p>Đôi khi bạn cũng muốn lắng nghe một sự kiện native trên phần tử root của component. Trong những trường hợp này, bạn có thể sử dụng modifier <code>.native</code> cho <code>v-on</code>. Ví dụ:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">my-component</span> <span class="attr">v-on:click.native</span>=<span class="string">"doTheThing"</span>&gt;</span><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="Modifier-sync"><a href="#Modifier-sync" class="headerlink" title="Modifier .sync"></a>Modifier <code>.sync</code></h3><blockquote>
<p>2.3.0+</p>
</blockquote>
<p>Trong một số trường hợp có thể chúng ta cần “two-way binding” (ràng buộc hai chiều) cho một prop - thật ra, trong 1.x đây chính xác là mục đích của modifier <code>.sync</code>. Khi component con thay đổi một prop có modifier <code>.sync</code>, giá trị ở parent cũng sẽ thay đổi theo. Điều này tiện thì có tiện nhưng về lâu dài sẽ làm cho việc bảo trì phần mềm gặp khó khăn vì nó phá vỡ luồng dữ liệu một chiều: code thay đổi prop của con cũng lẳng lặng làm ảnh hưởng đến trạng thái của cha. Đây chính là lí do chúng tôi quyết định bỏ modifier <code>.sync</code> khi ra mắt phiên bản 2.0.</p>
<p>Tuy nhiên, modifier <code>.sync</code> như trên vẫn có giá trị trong một số trường hợp nhất định, đặc biệt là khi ship những component tái sử dụng được. Cái chúng ta cần ở đây là <strong>làm cho những đoạn code trong component con ảnh hưởng đến trạng thái của component cha được minh bạch (explicit) và ổn định (consistent) hơn.</strong></p>
<p>Từ bản 2.3.0 trở đi, chúng tôi giới thiệu lại modifier <code>.sync</code> cho prop, nhưng lần này <code>.sync</code> chỉ là một syntactic sugar (cú pháp đẹp/dễ nhìn) tự động mở rộng thêm thành một listener <code>v-on</code>:</p>
<p>Đoạn code sau</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">comp</span> <span class="attr">:foo.sync</span>=<span class="string">"bar"</span>&gt;</span><span class="tag">&lt;/<span class="name">comp</span>&gt;</span></div></pre></td></tr></table></figure>
<p>sẽ được mở rộng ra thành:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">comp</span> <span class="attr">:foo</span>=<span class="string">"bar"</span> @<span class="attr">update:foo</span>=<span class="string">"val =&gt; bar = val"</span>&gt;</span><span class="tag">&lt;/<span class="name">comp</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Để có thể cập nhật giá trị của <code>foo</code>, component con phải phát ra một sự kiện một cách minh bạch thay vì trực tiếp thay đổi <code>foo</code>:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">this</span>.foo = <span class="string">'baz'</span> <span class="comment">// cách làm sai, và Vue sẽ cảnh báo</span></div><div class="line"><span class="keyword">this</span>.$emit(<span class="string">'update:foo'</span>, newValue) <span class="comment">// OK</span></div></pre></td></tr></table></figure>
<h3 id="Su-dung-su-kien-tuy-bien-voi-form-input-component"><a href="#Su-dung-su-kien-tuy-bien-voi-form-input-component" class="headerlink" title="Sử dụng sự kiện tùy biến với form input component"></a>Sử dụng sự kiện tùy biến với form input component</h3><p>Các sự kiện tùy biến cũng có thể được dùng để tạo custom input hoạt động với <code>v-model</code>. Nhớ là:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">"something"</span>&gt;</span></div></pre></td></tr></table></figure>
<p>là syntactic sugar của:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span></span></div><div class="line"><span class="tag">  <span class="attr">v-bind:value</span>=<span class="string">"something"</span></span></div><div class="line"><span class="tag">  <span class="attr">v-on:input</span>=<span class="string">"something = $event.target.value"</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Khi sử dụng với một component, nó được đơn giản hóa thành:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">custom-input</span></span></div><div class="line"><span class="tag">  <span class="attr">:value</span>=<span class="string">"something"</span></span></div><div class="line"><span class="tag">  @<span class="attr">input</span>=<span class="string">"value =&gt; &#123; something = value &#125;"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">custom-input</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Vì thế để hoạt động với <code>v-model</code>, một component cần</p>
<ul>
<li>nhận một prop <code>value</code></li>
<li><code>$emit</code> một sự kiện <code>input</code> với giá trị mới</li>
</ul>
<p>(những giá trị này tùy chỉnh được từ phiên bản 2.2.0 trở đi).</p>
<p>Chúng ta hãy xem ví dụ sau:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">currency-input</span> <span class="attr">v-model</span>=<span class="string">"price"</span>&gt;</span><span class="tag">&lt;/<span class="name">currency-input</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.component(<span class="string">'currency-input'</span>, &#123;</div><div class="line">  template: <span class="string">'\</span></div><div class="line"><span class="string">    &lt;span&gt;\</span></div><div class="line"><span class="string">      $\</span></div><div class="line"><span class="string">      &lt;input\</span></div><div class="line"><span class="string">        ref="input"\</span></div><div class="line"><span class="string">        v-bind:value="value"\</span></div><div class="line"><span class="string">        v-on:input="updateValue($event.target.value)"&gt;\</span></div><div class="line"><span class="string">    &lt;/span&gt;\</span></div><div class="line"><span class="string">  '</span>,</div><div class="line">  props: [<span class="string">'value'</span>],</div><div class="line">  methods: &#123;</div><div class="line">    <span class="comment">// Thay vì cập nhật giá trị trực tiếp, phương thức này</span></div><div class="line">    <span class="comment">// được dùng để format và đặt một số ràng buộc lên giá trị</span></div><div class="line">    <span class="comment">// của input</span></div><div class="line">    updateValue: <span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</div><div class="line">      <span class="keyword">var</span> formattedValue = value</div><div class="line">        <span class="comment">// Bỏ khoảng trắng ở hai bên</span></div><div class="line">        .trim()</div><div class="line">        <span class="comment">// Rút ngắn lại còn hai chữ số thập phân</span></div><div class="line">        .slice(</div><div class="line">          <span class="number">0</span>,</div><div class="line">          value.indexOf(<span class="string">'.'</span>) === <span class="number">-1</span></div><div class="line">            ? value.length</div><div class="line">            : value.indexOf(<span class="string">'.'</span>) + <span class="number">3</span></div><div class="line">        )</div><div class="line">      <span class="comment">// Nếu giá trị chưa được chuẩn hóa, ta ghi đè (override)</span></div><div class="line">      <span class="comment">// để bắt nó chuẩn không cần chỉnh</span></div><div class="line">      <span class="keyword">if</span> (formattedValue !== value) &#123;</div><div class="line">        <span class="keyword">this</span>.$refs.input.value = formattedValue</div><div class="line">      &#125;</div><div class="line">      <span class="comment">// Phát ra sự kiện input</span></div><div class="line">      <span class="keyword">this</span>.$emit(<span class="string">'input'</span>, <span class="built_in">Number</span>(formattedValue))</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>

<div id="currency-input-example" class="demo">
  <currency-input v-model="price"></currency-input>
</div>
<script>
Vue.component('currency-input', {
  template: '\
    <span>\
      $\
      <input\
        ref="input"\
        v-bind:value="value"\
        v-on:input="updateValue($event.target.value)"\
      >\
    </span>\
  ',
  props: ['value'],
  methods: {
    updateValue: function (value) {
      var formattedValue = value
        .trim()
        .slice(
          0,
          value.indexOf('.') === -1
            ? value.length
            : value.indexOf('.') + 3
        )
      if (formattedValue !== value) {
        this.$refs.input.value = formattedValue
      }
      this.$emit('input', Number(formattedValue))
    }
  }
})
new Vue({
  el: '#currency-input-example',
  data: { price: '' }
})
</script>

<p>Ví dụ trên thật ra còn khá sơ sài, đơn cử như người dùng vẫn có thể nhập vào nhiều dấu chấm và đôi khi cả chữ cái. Sau đây là một ví dụ hoàn chỉnh hơn:</p>
<iframe width="100%" height="300" src="//jsfiddle.net/phanan/1oqjojjx/1464/embedded/result,html,js/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>

<h3 id="Tuy-bien-v-model-cho-component"><a href="#Tuy-bien-v-model-cho-component" class="headerlink" title="Tùy biến v-model cho component"></a>Tùy biến <code>v-model</code> cho component</h3><blockquote>
<p>2.2.0+</p>
</blockquote>
<p>Mặc định, <code>v-model</code> dùng cho một component sử dụng prop tên là <code>value</code> và sự kiện tên là <code>input</code>. Tuy nhiên, một số kiểu input như checkbox và radio button có thể dùng prop <code>value</code> vào mục đích khác. Trong những trường hợp như vậy, tùy chọn <code>model</code> sẽ giúp chúng ta tránh được xung đột:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.component(<span class="string">'my-checkbox'</span>, &#123;</div><div class="line">  model: &#123;</div><div class="line">    prop: <span class="string">'checked'</span>,</div><div class="line">    event: <span class="string">'change'</span></div><div class="line">  &#125;,</div><div class="line">  props: &#123;</div><div class="line">    checked: <span class="built_in">Boolean</span>,</div><div class="line">    <span class="comment">// ở đây chúng ta có thể sử dụng prop `value`</span></div><div class="line">    <span class="comment">// vào một mục đích khác</span></div><div class="line">    value: <span class="built_in">String</span></div><div class="line">  &#125;,</div><div class="line">  <span class="comment">// ...</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">my-checkbox</span> <span class="attr">v-model</span>=<span class="string">"foo"</span> <span class="attr">value</span>=<span class="string">"some value"</span>&gt;</span><span class="tag">&lt;/<span class="name">my-checkbox</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Đoạn code trên là tương đồng với đoạn dưới đây:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">my-checkbox</span></span></div><div class="line"><span class="tag">  <span class="attr">:checked</span>=<span class="string">"foo"</span></span></div><div class="line"><span class="tag">  @<span class="attr">change</span>=<span class="string">"val =&gt; &#123; foo = val &#125;"</span></span></div><div class="line"><span class="tag">  <span class="attr">value</span>=<span class="string">"some value"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">my-checkbox</span>&gt;</span></div></pre></td></tr></table></figure>
<p class="tip">Lưu ý là bạn vẫn phải khai báo prop <code>checked</code> một cách minh bạch.</p>

<h3 id="Giao-tiep-giua-hai-component-khong-phai-cha-con"><a href="#Giao-tiep-giua-hai-component-khong-phai-cha-con" class="headerlink" title="Giao tiếp giữa hai component không phải cha-con"></a>Giao tiếp giữa hai component không phải cha-con</h3><p>Đôi lúc hai component cần giao tiếp với nhau nhưng lại không có mối quan hệ cha-con (component không trực tiếp chứa component kia). Trong những trường hợp đơn giản, bạn có thể dùng một đối tượng Vue rỗng để làm một event bus (nôm na là kênh truyền tải sự kiện).</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> bus = <span class="keyword">new</span> Vue()</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// trong phương thức của component A</span></div><div class="line">bus.$emit(<span class="string">'id-selected'</span>, <span class="number">1</span>)</div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// trong hook `created` của component B</span></div><div class="line">bus.$on(<span class="string">'id-selected'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">id</span>) </span>&#123;</div><div class="line">  <span class="comment">// ...</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>Trong những trường hợp phức tạp hơn, bạn nên xem xét sử dụng một <a href="state-management.html">pattern quản lí trạng thái</a>.</p>
<h2 id="Phan-bo-noi-dung-voi-slot"><a href="#Phan-bo-noi-dung-voi-slot" class="headerlink" title="Phân bố nội dung với slot"></a>Phân bố nội dung với slot</h2><p>Khi dùng component, thông thường ta sẽ muốn kết hợp như sau:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">app</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">app-header</span>&gt;</span><span class="tag">&lt;/<span class="name">app-header</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">app-footer</span>&gt;</span><span class="tag">&lt;/<span class="name">app-footer</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">app</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Ở đây có hai điểm cần lưu ý:</p>
<ol>
<li>Component <code>&lt;app&gt;</code> không biết nội dung nó nhận được là gì. Thay vào đó, nội dung của <code>&lt;app&gt;</code> được quyết định bởi các component con, trong trường hợp này là <code>&lt;app-header&gt;</code> và <code>&lt;app-footer&gt;</code>.</li>
<li>Thường thì component <code>&lt;app&gt;</code> có template riêng.</li>
</ol>
<p>Để đạt được kết quả như trên, chúng ta cần có một cách để trộn lẫn nội dung và template của component cha. Quá trình này gọi là <strong>phân bố nội dung</strong> (content distribution, hay còn gọi là “transclusion” trong Angular). Vue.js phát triển một API phân bố nội dung dựa trên <a href="https://github.com/w3c/webcomponents/blob/gh-pages/proposals/Slots-Proposal.md" target="_blank" rel="external">bản quy tắc về Web Component</a> hiện hành, sử dụng phần tử đặc biệt <code>&lt;slot&gt;</code> để làm các <em>outlet</em> phân bố cho nội dung ban đầu.</p>
<h3 id="Scope-khi-bien-dich"><a href="#Scope-khi-bien-dich" class="headerlink" title="Scope khi biên dịch"></a>Scope khi biên dịch</h3><p>Trước khi đi sâu vào API, trước tiên chúng ta phải làm rõ: nội dung được biên dịch trong scope nào? Tưởng tượng chúng ta có một template như sau:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">child-component</span>&gt;</span></div><div class="line">  &#123;&#123; message &#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">child-component</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Trong trường hợp này thì <code>message</code> nên là dữ liệu của component cha hay component con? Câu trả lời là component cha. Một quy tắc cơ bản về scope của component là:</p>
<blockquote>
<p>Cái gì trong template của cha thì được biên dịch trong scope của cha, cái gì trong template của con thì được biên dịch trong scope của con.</p>
</blockquote>
<p>Một lỗi mà người dùng hay mắc phải là cố bind một directive vào một thuộc tính hay phương thức của component con trong template của cha:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="comment">&lt;!-- cách này KHÔNG HOẠT ĐỘNG --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">child-component</span> <span class="attr">v-show</span>=<span class="string">"someChildProperty"</span>&gt;</span><span class="tag">&lt;/<span class="name">child-component</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Giả định <code>someChildProperty</code> là một thuộc tính của component con, ví dụ trên sẽ không hoạt động. Template của component cha không biết gì về trạng thái của component con.</p>
<p>Nếu muốn bind các directive với scope con trên node gốc của một component, bạn nên làm thế trong template của chính component con:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.component(<span class="string">'child-component'</span>, &#123;</div><div class="line">  <span class="comment">// cách này sẽ hoạt động, vì chúng ta đang ở đúng scope</span></div><div class="line">  template: <span class="string">'&lt;div v-show="someChildProperty"&gt;Child&lt;/div&gt;'</span>,</div><div class="line">  data: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">      someChildProperty: <span class="literal">true</span></div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>Tương tự như vậy, nội dung được phân bố sẽ được biên dịch trong scope của cha.</p>
<h3 id="Slot-don-le"><a href="#Slot-don-le" class="headerlink" title="Slot đơn lẻ"></a>Slot đơn lẻ</h3><p>Nội dung của component cha sẽ <strong>bị loại bỏ</strong> trừ phi template của component con chứa ít nhất một <code>&lt;slot&gt;</code>. Khi chỉ có một slot và slot này không có thuộc tính gì, toàn bộ phần nội dung sẽ được chèn vào vị trí của slot trong DOM, thay thế cho slot đó.</p>
<p>Mọi thứ bên trong thẻ <code>&lt;slot&gt;</code> lúc ban đầu được xem như <strong>nội dung dự phòng</strong>. Nội dung dự phòng được biên dịch trong scope của component con và chỉ được hiển thị nếu phần tử host là rỗng và không có nội dung gì để chèn vào.</p>
<p>Giả sử ta có một component gọi là <code>child-component</code> với template như sau:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Lời của con<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">slot</span>&gt;</span></div><div class="line">    Dòng này sẽ chỉ được hiển thị nếu không có</div><div class="line">    nội dung nào được phân bố.</div><div class="line">  <span class="tag">&lt;/<span class="name">slot</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>và một component cha sử dụng <code>child-component</code>:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Lời của cha<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">    “Theo cánh buồm đi mãi đến nơi xa,</div><div class="line">    Sẽ có cây, có cửa, có nhà,</div><div class="line">    Vẫn là đất nước của ta</div><div class="line">    Những nơi đó cha chưa hề đi đến.”</div><div class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">child-component</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">      “Cha mượn cho con buồm trắng nhé</div><div class="line">      Để con đi”</div><div class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">child-component</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Nội dung được render sẽ là:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Lời của cha<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">    “Theo cánh buồm đi mãi đến nơi xa,</div><div class="line">    Sẽ có cây, có cửa, có nhà,</div><div class="line">    Vẫn là đất nước của ta</div><div class="line">    Những nơi đó cha chưa hề đi đến.”</div><div class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Lời của con<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">      “Cha mượn cho con buồm trắng nhé</div><div class="line">      Để con đi”</div><div class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="Slot-co-ten"><a href="#Slot-co-ten" class="headerlink" title="Slot có tên"></a>Slot có tên</h3><p>Các phần tử <code>&lt;slot&gt;</code> có một thuộc tính đặc biệt là <code>name</code> (tên). Thuộc tính này được dùng để tùy biến thêm về cách phân bố nội dung. Bạn có thể có nhiều slot với các tên khác nhau.  Một slot có tên sẽ khớp với bất kì phần tử nào có thuộc tính <code>slot</code> tương ứng nằm trong phần nội dung.</p>
<p>Ngoài ra chúng ta vẫn có thể dùng một slot không có tên để là <strong>slot mặc định</strong>. Những nội dung không khớp với bất kì slot nào sẽ được chèn vào slot này. Nếu trong template không có slot mặc định, bất cứ nội dung nào không khớp sẽ bị bỏ đi.</p>
<p>Ví dụ, giả sử chúng ta có một component gọi là <code>app-layout</code> với template như sau:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">header</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!-- đây là một slot có tên --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">"header"</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">header</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">main</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!--</span></div><div class="line"><span class="comment">      đây là slot mặc định, slot không tên,</span></div><div class="line"><span class="comment">      ta cũng có thể gọi là slot của Vũ Thành An</span></div><div class="line"><span class="comment">    --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">slot</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">main</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">footer</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!-- đây lại là một slot có tên --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">"footer"</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>HTML của cha trông như sau:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">app-layout</span>&gt;</span></div><div class="line">  <span class="comment">&lt;!-- nội dung này sẽ được chèn vào slot "header" --&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">h1</span> <span class="attr">slot</span>=<span class="string">"header"</span>&gt;</span>Tiêu đề của trang<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"></div><div class="line">  <span class="comment">&lt;!-- nội dung này sẽ được chèn vào slot mặc định --&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Một đoạn nội dung.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Thêm một đoạn nữa cho dài.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"></div><div class="line">  <span class="comment">&lt;!-- nội dung này sẽ được chèn vào slot "footer" --&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">slot</span>=<span class="string">"footer"</span>&gt;</span>Thông tin liên hệ<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">app-layout</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Kết quả cuối cùng sẽ là:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">header</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Tiêu đề của trang<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">header</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">main</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Một đoạn nội dung.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Thêm một đoạn nữa cho dài.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">main</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">footer</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Thông tin liên hệ<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>API phân bố nội dung là một cơ chế rất mạnh dùng để biên soạn những component được dùng chung với nhau.</p>
<h3 id="Scoped-slot"><a href="#Scoped-slot" class="headerlink" title="Scoped slot"></a>Scoped slot</h3><blockquote>
<p>2.1.0+</p>
</blockquote>
<p>Scoped slot (slot có phạm vi) là một loại slot đặc biệt, hoạt động như một tempate tái sử dụng được (và có thể nhận dữ liệu tùy biến) thay vì một phần tử đã render sẵn.</p>
<p>Trong một component con, bạn có thể truyền dữ liệu vào slot giống như truyền prop vào component:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"child"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">slot</span> <span class="attr">text</span>=<span class="string">"Con chào cha"</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Trong đối tượng cha, một phần tử <code>&lt;template&gt;</code> với thuộc tính đặc biệt <code>slot-scope</code> phải được khai báo, chỉ rõ rằng đây là template cho một scoped slot. Giá trị của <code>slot-scope</code> sẽ được dùng làm tên của một biến tạm chứa object props được truyền từ component con:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"parent"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">child</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!-- ở đây ta đặt tên biến tạm là `props` --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">scope</span>=<span class="string">"props"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>Cha chào con<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123; props.text &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">child</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Kết quả được render của ví dụ trên sẽ là:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"parent"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"child"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>Cha chào con<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>Con chào cha<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<blockquote>
<p>Từ bản 2.5.0 trở đi, <code>slot-scope</code> có thể được dùng trên bất kì phần tử web hoặc component nào, không chỉ <code>&lt;template&gt;</code>.</p>
</blockquote>
<p>Một ví dụ điển hình hơn cho scoped slot là một danh sách các component cho phép người dùng tùy biến hiển thị của từng item:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">my-awesome-list</span> <span class="attr">:items</span>=<span class="string">"items"</span>&gt;</span></div><div class="line">  <span class="comment">&lt;!-- scoped slot cũng có thể có tên --&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot</span>=<span class="string">"item"</span> <span class="attr">scope</span>=<span class="string">"props"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"my-fancy-item"</span>&gt;</span>&#123;&#123; props.text &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">my-awesome-list</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Và đây là template của component <code>my-awesome-list</code>:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">"item"</span></span></div><div class="line"><span class="tag">    <span class="attr">v-for</span>=<span class="string">"item in items"</span></span></div><div class="line"><span class="tag">    <span class="attr">:text</span>=<span class="string">"item.text"</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!-- nội dung dự phòng --&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">slot</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="Destructure"><a href="#Destructure" class="headerlink" title="Destructure"></a>Destructure</h4><p>Giá trị của <code>slot-scope</code> thật ra là một biểu thức JavaScript hợp lệ – có thể dùng làm tham số cho một hàm. Điều này có nghĩa là trong các môi trường được hỗ trợ (như single-file component hay các trình duyệt hiện đại) bạn có thể dùng tính năng destructure của ES2015 trong biểu thức:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">child</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">slot-scope</span>=<span class="string">"&#123; text &#125;"</span>&gt;</span>&#123;&#123; text &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">child</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="Component-dong"><a href="#Component-dong" class="headerlink" title="Component động"></a>Component động</h2><p>Dùng một phần tử <code>&lt;component&gt;</code> và thuộc tính <code>is</code> được bind động, bạn có thể chuyển đổi một cách linh hoạt giữa nhiều component.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</div><div class="line">  el: <span class="string">'#example'</span>,</div><div class="line">  data: &#123;</div><div class="line">    currentView: <span class="string">'home'</span></div><div class="line">  &#125;,</div><div class="line">  components: &#123;</div><div class="line">    home: &#123; <span class="comment">/* ... */</span> &#125;,</div><div class="line">    posts: &#123; <span class="comment">/* ... */</span> &#125;,</div><div class="line">    archive: &#123; <span class="comment">/* ... */</span> &#125;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">component</span> <span class="attr">v-bind:is</span>=<span class="string">"currentView"</span>&gt;</span></div><div class="line">  <span class="comment">&lt;!-- component thay đổi khi vm.currentView thay đổi! --&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">component</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Nếu muốn, bạn cũng có thể bind trực tiếp vào các object component:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> Home = &#123;</div><div class="line">  template: <span class="string">'&lt;p&gt;Đã bấy lâu nay bác tới nhà&lt;/p&gt;'</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</div><div class="line">  el: <span class="string">'#example'</span>,</div><div class="line">  data: &#123;</div><div class="line">    currentView: Home</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h3 id="keep-alive"><a href="#keep-alive" class="headerlink" title="keep-alive"></a><code>keep-alive</code></h3><p>Khi chuyển đổi giữa các component, giữ các component đã bị thay thế trong bộ nhớ để bảo lưu trạng thái hoặc tránh phải render lại, bạn có thể chứa một component động bên trong thẻ <code>&lt;keep-alive&gt;</code>:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">keep-alive</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">component</span> <span class="attr">:is</span>=<span class="string">"currentView"</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!-- component bị thay thế sẽ được cache lại --&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">component</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Đọc thêm về <code>&lt;keep-alive&gt;</code> trong phần <a href="../api/#keep-alive">API</a>.</p>
<h2 id="Khac"><a href="#Khac" class="headerlink" title="Khác"></a>Khác</h2><h3 id="Viet-component-su-dung-lai-duoc"><a href="#Viet-component-su-dung-lai-duoc" class="headerlink" title="Viết component sử dụng lại được"></a>Viết component sử dụng lại được</h3><p>Khi viết một component, hãy luôn nghĩ đến việc bạn có muốn sử dụng lại component đó ở một nơi nào khác sau này hay không. Nếu chỉ để dùng một lần thì component bạn đang viết có thể được gắn chặt (tightly coupled) với ngữ cảnh hiện hành, nhưng nếu để dùng lại về sau thì component cần phải định nghĩa một giao diện (interface) rõ ràng và không có bất cứ giả định nào về ngữ cảnh xung quanh.</p>
<p>API dành cho một component trong Vue gồm có ba phần - prop, sự kiện, và slot:</p>
<ul>
<li><p><strong>Prop</strong> cho phép môi trường bên ngoài truyền dữ liệu vào trong component.</p>
</li>
<li><p><strong>Sự kiện</strong> cho phép component kích hoạt side effect (hiệu ứng lề) ở môi trường bên ngoài.</p>
</li>
<li><p><strong>Slot</strong> cho phép môi trường bên ngoài thêm nội dung vào component.</p>
</li>
</ul>
<p>Với cú pháp tắt cho <code>v-bind</code> và <code>v-on</code>, những mục tiêu này có thể được truyền tải một cách rõ ràng và súc tích trong template:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">my-component</span></span></div><div class="line"><span class="tag">  <span class="attr">:foo</span>=<span class="string">"baz"</span></span></div><div class="line"><span class="tag">  <span class="attr">:bar</span>=<span class="string">"qux"</span></span></div><div class="line"><span class="tag">  @<span class="attr">event-a</span>=<span class="string">"doThis"</span></span></div><div class="line"><span class="tag">  @<span class="attr">event-b</span>=<span class="string">"doThat"</span></span></div><div class="line"><span class="tag">&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">slot</span>=<span class="string">"icon"</span> <span class="attr">src</span>=<span class="string">"..."</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">slot</span>=<span class="string">"main-text"</span>&gt;</span>Xin chào!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="Ref-cho-component-con"><a href="#Ref-cho-component-con" class="headerlink" title="Ref cho component con"></a>Ref cho component con</h3><p>Mặc dù đã có prop và sự kiện, đôi khi bạn vẫn cần truy xuất trực tiếp đến một component trong JavaScript. Để làm điều này, bạn cần gán một tham chiếu cho component con với thuộc tính <code>ref</code>. Ví dụ:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"parent"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">user-profile</span> <span class="attr">ref</span>=<span class="string">"profile"</span>&gt;</span><span class="tag">&lt;/<span class="name">user-profile</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> parent = <span class="keyword">new</span> Vue(&#123; <span class="attr">el</span>: <span class="string">'#parent'</span> &#125;)</div><div class="line"><span class="comment">// truy xuất đến component con</span></div><div class="line"><span class="keyword">var</span> child = parent.$refs.profile</div></pre></td></tr></table></figure>
<p>Khi dùng chung với <code>v-for</code>, giá trị ref bạn nhận được sẽ là một mảng chứa các component con tương ứng với nguồn dữ liệu.</p>
<p class="tip"><code>$refs</code> sẽ chỉ có giá trị sau khi component đã được render, và giá trị này không reactive. Bạn chỉ nên sử dụng <code>$refs</code> như là một biện pháp bất đắc dĩ để truy xuất đến component con.</p>

<h3 id="Component-khong-dong-bo"><a href="#Component-khong-dong-bo" class="headerlink" title="Component không đồng bộ"></a>Component không đồng bộ</h3><p>Trong những ứng dụng lớn, chúng ta có thể phải chia ứng dụng ra thành nhiều phần nhỏ và chỉ tải một component từ server xuống khi cần thiết. Để hỗ trợ điều này, Vue cho phép bạn định nghĩa component bằng một hàm factory, hàm này sẽ chịu trách nhiệm resolve (phân giải) một cách không đồng bộ (async) định nghĩa về component của bạn. Vue sẽ chỉ kích hoạt hàm factory này khi component thật sự cần được render, và sẽ cache lại kết quả cho những lần render tiếp theo. Ví dụ:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.component(<span class="string">'async-example'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</div><div class="line">  setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">// Truyền định nghĩa của component cho hàm callback</span></div><div class="line">    resolve(&#123;</div><div class="line">      template: <span class="string">'&lt;div&gt;Nội dung này được tải không đồng bộ.&lt;/div&gt;'</span></div><div class="line">    &#125;)</div><div class="line">  &#125;, <span class="number">1000</span>)</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>Như trên cho thấy, hàm factory nhận vào một hàm callback <code>resolve</code>. Bạn sẽ gọi hàm <code>resolve</code> sau khi tải xong định nghĩa của component từ server về. Bạn cũng có thể gọi <code>reject(reason)</code> để chỉ định là việc tải từ server đã thất bại. Hàm <code>setTimeout</code> ở đây chỉ có ý nghĩa demo; bạn có thể tải component theo bất kì cách nào mình muốn. Một hướng tiếp cận mà chúng tôi khuyên dùng là sử dụng component không đồng bộ với tính năng <a href="https://webpack.js.org/guides/code-splitting/" target="_blank" rel="external">code-splitting</a> của Webpack:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.component(<span class="string">'async-webpack-example'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">resolve</span>) </span>&#123;</div><div class="line">  <span class="comment">// Cú pháp `require` đặc biệt này sẽ hướng dẫn cho Webpack</span></div><div class="line">  <span class="comment">// tự động chia code được build của bạn ra thành các gói nhỏ hơn</span></div><div class="line">  <span class="comment">// (bundle) để tải về bằng AJAX.</span></div><div class="line">  <span class="built_in">require</span>([<span class="string">'./my-async-component'</span>], resolve)</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>Bạn cũng có thể trả về một <code>Promise</code> bên trong hàm factory, nên với cú pháp Webpack 2 + ES2015 bạn có thể viết như sau:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.component(</div><div class="line">  <span class="string">'async-webpack-example'</span>,</div><div class="line">  <span class="comment">// Hàm `import` trả về một `Promise`.</span></div><div class="line">  () =&gt; <span class="keyword">import</span>(<span class="string">'./my-async-component'</span>)</div><div class="line">)</div></pre></td></tr></table></figure>
<p>Khi <a href="components.html#Dang-ki-o-cap-cuc-bo">đăng kí component ở cấp cục bộ</a>, bạn cũng có thể cung cấp một hàm trả về <code>Promise</code> một cách trực tiếp:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">new</span> Vue(&#123;</div><div class="line">  <span class="comment">// ...</span></div><div class="line">  components: &#123;</div><div class="line">    <span class="string">'my-component'</span>: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">import</span>(<span class="string">'./my-async-component'</span>)</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p class="tip">Nếu bạn sử dụng <strong>Browserify</strong> và muốn dùng component không đồng bộ, đáng tiếc là tác giả của Browserify đã <a href="https://github.com/substack/node-browserify/issues/58#issuecomment-21978224" target="_blank" rel="external">nói rõ</a> rằng tải không đồng bộ “sẽ không bao giờ được Browserify chính thức hỗ trợ.” Cộng đồng Browserify đã tìm ra <a href="https://github.com/vuejs/vuejs.org/issues/620" target="_blank" rel="external">một vài cách giải quyết</a> có thể có ích cho những ứng dụng có sẵn và phức tạp. Trong những trường hợp khác (viết ứng dụng mới, hoặc ứng dụng sẵn có đủ đơn giản), chúng tôi khuyên bạn nên sử dụng Webpack.</p>

<h3 id="Component-khong-dong-bo-nang-cao"><a href="#Component-khong-dong-bo-nang-cao" class="headerlink" title="Component không đồng bộ nâng cao"></a>Component không đồng bộ nâng cao</h3><blockquote>
<p>2.3.0+</p>
</blockquote>
<p>Bắt đầu từ bản 2.3.0, factory cho component không đồng bộ có thể trả về một object với định dạng sau:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">const</span> AsyncComp = <span class="function"><span class="params">()</span> =&gt;</span> (&#123;</div><div class="line">  <span class="comment">// Component cần tải. Nên là một Promise</span></div><div class="line">  component: <span class="keyword">import</span>(<span class="string">'./MyComp.vue'</span>),</div><div class="line">  <span class="comment">// Component để dùng khi đang tải component không đồng bộ trên đây,</span></div><div class="line">  <span class="comment">// tạm gọi là "component tải"</span></div><div class="line">  loading: LoadingComp,</div><div class="line">  <span class="comment">// Component dùng khi tải bị lỗi, tạm gọi là "component lỗi"</span></div><div class="line">  error: ErrorComp,</div><div class="line">  <span class="comment">// Khoảng thời gian đợi (delay) trước khi hiển thị component tải</span></div><div class="line">  <span class="comment">// Mặc định là 200ms.</span></div><div class="line">  delay: <span class="number">200</span>,</div><div class="line">  <span class="comment">// Thời gian đợi trước khi hiện component lỗi</span></div><div class="line">  <span class="comment">// Mặc định là Infinity</span></div><div class="line">  timeout: <span class="number">3000</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>Lưu ý rằng khi dùng như một route component trong <code>vue-router</code>, những thuộc tính này sẽ bị bỏ qua vì component không đồng bộ sẽ được resolve trước khi việc chuyển route xảy ra. Bạn cũng cần phiên bản <code>vue-router</code> 2.4.0 trở đi nếu muốn sử dụng cú pháp trên đây cho route component.</p>
<h3 id="Quy-chuan-dat-ten-cho-component"><a href="#Quy-chuan-dat-ten-cho-component" class="headerlink" title="Quy chuẩn đặt tên cho component"></a>Quy chuẩn đặt tên cho component</h3><p>Khi đăng kí component (hoặc prop), bạn có thể dùng kebab-case, camelCase, hoặc PascalCase.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">components: &#123;</div><div class="line">  <span class="comment">// dùng kebab-case</span></div><div class="line">  <span class="string">'kebab-cased-component'</span>: &#123; <span class="comment">/* ... */</span> &#125;,</div><div class="line">  <span class="comment">// dùng camelCase</span></div><div class="line">  <span class="string">'camelCasedComponent'</span>: &#123; <span class="comment">/* ... */</span> &#125;,</div><div class="line">  <span class="comment">// dùng PascalCase</span></div><div class="line">  <span class="string">'PascalCasedComponent'</span>: &#123; <span class="comment">/* ... */</span> &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Tuy nhiên, trong template HTML, bạn phải dùng phiên bản kebab-case cho tên component:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">kebab-cased-component</span>&gt;</span><span class="tag">&lt;/<span class="name">kebab-cased-component</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">camel-cased-component</span>&gt;</span><span class="tag">&lt;/<span class="name">camel-cased-component</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">pascal-cased-component</span>&gt;</span><span class="tag">&lt;/<span class="name">pascal-cased-component</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Khi sử dụng <em>string</em> template, chúng ta không bị hạn chế bởi đặc tính không phân biệt hoa thường của HTML. Điều này có nghĩa là ngay cả trong template, bạn vẫn có thể tham chiếu đến component bằng:</p>
<ul>
<li>kebab-case</li>
<li>camelCase hoặc kebab-case nếu component được định nghĩa bằng camelCase</li>
<li>kebab-case, camelCase hoặc PascalCase nếu component đã được định nghĩa bằng PascalCase</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">components: &#123;</div><div class="line">  <span class="string">'kebab-cased-component'</span>: &#123; <span class="comment">/* ... */</span> &#125;,</div><div class="line">  camelCasedComponent: &#123; <span class="comment">/* ... */</span> &#125;,</div><div class="line">  PascalCasedComponent: &#123; <span class="comment">/* ... */</span> &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">kebab-cased-component</span>&gt;</span><span class="tag">&lt;/<span class="name">kebab-cased-component</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">camel-cased-component</span>&gt;</span><span class="tag">&lt;/<span class="name">camel-cased-component</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">camelCasedComponent</span>&gt;</span><span class="tag">&lt;/<span class="name">camelCasedComponent</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">pascal-cased-component</span>&gt;</span><span class="tag">&lt;/<span class="name">pascal-cased-component</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">pascalCasedComponent</span>&gt;</span><span class="tag">&lt;/<span class="name">pascalCasedComponent</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">PascalCasedComponent</span>&gt;</span><span class="tag">&lt;/<span class="name">PascalCasedComponent</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Điều này có nghĩa là PascalCase là <em>quy chuẩn khai báo</em> thông dụng nhất, và kebab-case là <em>quy chuẩn sử dụng</em> thông dụng nhất.</p>
<p>Nếu component của bạn không nhận nội dung thông qua <code>slot</code>, bạn còn có thể dùng dưới dạng thẻ tự đóng (self-closed) bằng kí tự <code>/</code>:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">my-component</span>/&gt;</span></div></pre></td></tr></table></figure>
<p>Một lần nữa, cách này chỉ hoạt động với string template, vì trình duyệt không chấp nhận và sẽ không hiểu định dạng tự đóng đối với các phần tử tùy biến.</p>
<h3 id="Component-de-quy"><a href="#Component-de-quy" class="headerlink" title="Component đệ quy"></a>Component đệ quy</h3><p>Một component có thể tự chứa và gọi bản thân một cách đệ quy nếu bạn khai báo cho nó một thuộc tính <code>name</code>:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">name: <span class="string">'con-kien-ma-leo-canh-da'</span></div></pre></td></tr></table></figure>
<p>Khi bạn đăng kí component ở cấp toàn cục bằng lệnh <code>Vue.component</code>, một ID toàn cục sẽ được tự động gán vào <code>name</code>.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.component(<span class="string">'con-kien-ma-leo-canh-da'</span>, &#123;</div><div class="line">  <span class="comment">// ...</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>Nếu bạn không cẩn thận, component đệ quy có thể dẫn đến lặp vô tận.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">name: <span class="string">'bi-ngo-la-co-dau-nanh'</span>,</div><div class="line">template: <span class="string">'&lt;div&gt;&lt;bi-ngo-la-co-dau-nanh/&gt;&lt;/div&gt;'</span></div></pre></td></tr></table></figure>
<p>Một component như trên sẽ gây ra lỗi “max stack size exceeded”, vì vậy hãy bảo đảm việc gọi đệ quy là có điều kiện (ví dụ sử dụng <code>v-if</code> và đến một lúc nào đó thì trả về <code>false</code>).</p>
<h3 id="Tham-chieu-xoay-vong-giua-cac-component"><a href="#Tham-chieu-xoay-vong-giua-cac-component" class="headerlink" title="Tham chiếu xoay vòng giữa các component"></a>Tham chiếu xoay vòng giữa các component</h3><p>Giả sử bạn bạn đang xây dựng một cây thư mục tương tự như File Explorer của Windows hoặc Finder của Mac. Bạn có lẽ sẽ có một component <code>tree-folder</code> với template sau:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123; folder.name &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">tree-folder-contents</span> <span class="attr">:children</span>=<span class="string">"folder.children"</span>/&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div></pre></td></tr></table></figure>
<p>và một component <code>tree-folder-contents</code> component với template sau:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"child in children"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">tree-folder</span> <span class="attr">v-if</span>=<span class="string">"child.children"</span> <span class="attr">:folder</span>=<span class="string">"child"</span>/&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-else</span>&gt;</span>&#123;&#123; child.name &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Nếu nhìn kĩ, bạn sẽ nhận ra rằng các component này thực tế sẽ <em>chứa lẫn nhau</em> trong cây thư mục được render - điều này có thể coi là một nghịch lí (paradox). Nếu bạn đăng kí component ở cấp toàn cục với <code>Vue.component</code>, nghịch lí này sẽ được Vue giải quyết một cách tự động, và bạn có thể ngừng đọc tiếp ở đây.</p>
<p>Tuy nhiên, nếu đang nhúng component bằng lệnh <code>require</code> hoặc <code>import</code> trong một <strong>hệ thống module</strong> bằng Webpack hoặc Browserify, bạn sẽ bị báo lỗi:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">Failed to mount component: template or render function not defined.</div></pre></td></tr></table></figure>
<p>Để hiểu việc gì đang xảy ra, hãy gọi hai component ta đang có là A và B. Hệ thống module thấy rằng nó cần A, nhưng A lại cần B, nhưng B lại cần A, nhưng A lại cần B, và cứ thế mãi. Thành ra hệ thống này bị kẹt trong một vòng lặp vô tận, không biết phải resolve component nào trước. Để giải quyết vấn đề này, ta cần cung cấp cho hệ thống một điểm quyết định mà tại đó nó có thể nhận ra rằng “<em>Cuối cùng thì</em> A sẽ cần B, nhưng hiện thì chưa cần phải resolve B trước.”</p>
<p>Trở lại ví dụ của chúng ta, hãy tạo điểm quyết định đó trong component <code>tree-folder</code>. Biết rằng component con sẽ tạo nên nghịch lí là <code>tree-folder-contents</code>, chúng ta sẽ đợi đến hook vòng đời <code>beforeCreate</code> để đăng kí component này thay vì đăng kí ngay từ đầu:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">beforeCreate: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">this</span>.$options.components.TreeFolderContents = <span class="built_in">require</span>(<span class="string">'./tree-folder-contents.vue'</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Thế là vấn đề đã được giải quyết!</p>
<h3 id="Inline-Template"><a href="#Inline-Template" class="headerlink" title="Inline Template"></a>Inline Template</h3><p>Khi ta đặt thuộc tính đặc biệt <code>inline-template</code> vào một component con, component này sẽ dùng nội dung của nó làm template thay vì coi là nội dung được phân phối. Điều này giúp cho việc biên soạn template được linh hoạt hơn.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">my-component</span> <span class="attr">inline-template</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Những nội dung này được dùng làm template.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Tuy nhiên, <code>inline-template</code> khiến cho scope của template khó quản lí và theo dõi hơn. Tốt nhất hãy luôn định nghĩa component với tùy chọn <code>template</code> hoặc sử dụng thẻ <code>template</code> trong một file <code>.vue</code>.</p>
<h3 id="X-Template"><a href="#X-Template" class="headerlink" title="X-Template"></a>X-Template</h3><p>Một cách nữa để định nghĩa template là chứa trong một thẻ <code>&lt;script&gt;</code> có thuộc tính <code>type</code> là <code>text/x-template</code>, sau đó tham chiếu đến template này bằng ID. Ví dụ:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/x-template"</span> <span class="attr">id</span>=<span class="string">"teen-spirit-template"</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="xml">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Hello hello hello how low<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.component(<span class="string">'teen-spirit'</span>, &#123;</div><div class="line">  template: <span class="string">'#teen-spirit-template'</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>Cách này có thể hữu ích cho những demo có template lớn hoặc cho những ứng dụng vô cùng nhỏ, nhưng với những trường hợp khác thì nên tránh,  vì template bị tách riêng ra khỏi phần còn lại của định nghĩa cho component.</p>
<h3 id="Component-voi-v-once"><a href="#Component-voi-v-once" class="headerlink" title="Component với v-once"></a>Component với <code>v-once</code></h3><p>Vue render các phần tử HTML rất nhanh, nhưng đôi khi bạn muốn một component chứa <strong>rất nhiều</strong> nội dung tĩnh. Những lúc này, bạn có thể bảo đảm component được xử lí chỉ một lần rồi cache lại, bằng cách thêm directive <code>v-once</code> vào phần tử gốc của component như sau:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.component(<span class="string">'terms-of-service'</span>, &#123;</div><div class="line">  template: <span class="string">'\</span></div><div class="line"><span class="string">    &lt;div v-once&gt;\</span></div><div class="line"><span class="string">      &lt;h1&gt;Điều khoản dịch vụ&lt;/h1&gt;\</span></div><div class="line"><span class="string">      ... Rất nhiều nội dung tĩnh ...\</span></div><div class="line"><span class="string">      ... mà thật sự ...\</span></div><div class="line"><span class="string">      ... không có ai ...\</span></div><div class="line"><span class="string">      ... buồn ...\</span></div><div class="line"><span class="string">      ... đọc ...\</span></div><div class="line"><span class="string">      ... cả ...\</span></div><div class="line"><span class="string">    &lt;/div&gt;\</span></div><div class="line"><span class="string">  '</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>

  
    <div class="guide-links">
      
        <span>← <a href="/v2/guide/forms.html">Form Input Bindings</a></span>
      
      
    </div>
  
  <div class="footer">
    <script src="//m.servedby-buysellads.com/monetization.js" type="text/javascript"></script>
<div class="bsa-cpc"></div>
<script>
  (function(){
    if(typeof _bsa !== 'undefined' && _bsa) {
    _bsa.init('default', 'CKYD62QM', 'placement:vuejsorg', {
      target: '.bsa-cpc',
      align: 'horizontal',
      disable_css: 'true'
    });
      }
  })();
</script>

    Phát hiện lỗi hoặc muốn đóng góp vào nội dung?
    <a href="https://github.com/vuejs/vuejs.org/blob/master/src/v2/guide/components.md" target="_blank">
      Chỉnh sửa trang này trên GitHub!
    </a>
  </div>
</div>

        
      </div>
      <script src="/js/smooth-scroll.min.js"></script>
    

    <!-- main custom script for sidebars, version selects etc. -->
    <script src="/js/css.escape.js"></script>
    <script src="/js/common.js"></script>

    <!-- search -->
    <link href="//cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/css/search.css">
    <script src="//cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script>
    <script>
    [
      '#search-query-nav',
      '#search-query-sidebar',
      '#search-query-menu'
    ].forEach(function (selector) {
      if (!document.querySelector(selector)) return
      // search index defaults to v2
      var match = window.location.pathname.match(/^\/(v\d+)/)
      var version = match ? match[1] : 'v2'
      docsearch({
      appId: 'BH4D9OD16A',
      apiKey: '85cc3221c9f23bfbaa4e3913dd7625ea',
      indexName: 'vuejs',
      inputSelector: selector,
      algoliaOptions: { facetFilters: ["version:" + version] }
      })
    })
    </script>

    <!-- fastclick -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
      FastClick.attach(document.body)
    }, false)
    </script>
  </body>
</html>
